MY_PATH=~/DEV.18/GITHUB/orbiter
MY_PATH2=~/DEV.18
SRC=$(MY_PATH)/ORBITER/SRC
SRC2=$(MY_PATH2)/ORBITER2/SRC2

SPREAD_PATH=$(SRC)/APPS/SPREAD
TOOLS_PATH=$(SRC)/APPS/TOOLS
ANDRE_PATH=$(SRC2)/ANDRE
GRASSMANN_PATH=$(SRC2)/GRASSMANN
TREEDRAW_PATH=$(SRC2)/TREEDRAW
PROJECTIVE_SPACE_PATH=$(SRC)/APPS/PROJECTIVE_SPACE
ALGEBRA_PATH=$(SRC2)/ALGEBRA


Q=8
K=2
DIM_OVER_KERNEL=2
TWO_K_MINUS_ONE=3
ORDER=64
ORDER_PLUS_ONE=65
DEPTH=6
POLY=




ARGUMENTS= \
		-order $(ORDER)  \
		-dim_over_kernel $(DIM_OVER_KERNEL) \
		-starter_size $(DEPTH) \
		-input_prefix STARTER_DIR/ \
		-output_prefix SYSTEMS/ \
		-solution_prefix SOLUTIONS/ \
		-base_fname Spreads_$(ORDER) \
		-recoordinatize \









all: starter lift build_db read_solutions compute_orbits isomorph report







clean:
	- rm spread_$(ORDER)* report*  live_points* log*
	- rm -r ISO
	- rm PG_3_4*
	- rm -rf STARTER_DIR
	- rm -rf SOLUTIONS
	- rm -rf SYSTEMS



cheat:
	$(PROJECTIVE_SPACE_PATH)/cheat_sheet_PG.out -n $(TWO_K_MINUS_ONE) -q $(Q)
	pdflatex PG_$(TWO_K_MINUS_ONE)_$(Q).tex
	open PG_$(TWO_K_MINUS_ONE)_$(Q).pdf


starter:
	- mkdir STARTER_DIR
	$(SPREAD_PATH)/spread_classify.out -v 6 \
		$(ARGUMENTS) \
		-starter  -W \
		-T -x 2300 -y 1000 


#		-draw_poset \


#		-T -x 2300 -y 1000 \
#		-list



#Found 16766 orbits at depth 6
#0 : 1 orbits
#1 : 1 orbits
#2 : 1 orbits
#3 : 1 orbits
#4 : 7 orbits
#5 : 89 orbits
#6 : 16766 orbits
#total: 16866
#(9072, 144, 126, 108, 84, 54^5, 48^2, 42, 36^6, 28^2, 27, 24^4, 18^{29}, 16^2, 14^3, 12^2, 9^{37}, 8^{10}, 7, 6^{23}, 4^{65}, 3^{39}, 2^{930}, 1^{15599}) average is 1 + 12585 / 16766

lift:
	- mkdir SYSTEMS
	- mkdir SOLUTIONS
	$(SPREAD_PATH)/spread_classify.out -v 2 -order $(ORDER) \
		-lift $(DEPTH) ./ \
		$(ARGUMENTS) \
		-lex



#		-save \
#		-solve


#		-solve -lex -save

rainbow_0:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_0.bin \

rainbow_1:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_1.bin \



rainbow_255:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_255.bin \

rainbow_500:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_500.bin \

rainbow_700:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_700.bin \

rainbow_1777:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file SYSTEMS/graph_1777.bin \


