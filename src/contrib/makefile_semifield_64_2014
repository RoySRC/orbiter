MY_PATH=../../../DEV.14
#MY_PATH=/scratch/betten/COMPILE/2013_01_23
SRC=$(MY_PATH)/ORBITER/SRC
SRC2=$(MY_PATH)/ORBITER2/SRC2

SEMIFIELD_PATH=$(SRC)/SEMIFIELD
GRASSMANN_PATH=$(SRC2)/GRASSMANN
MATH161_PATH=$(SRC2)/MATH161


ORDER=64
DEPTH=5
POLY=

compute:
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-prefix semi_$(ORDER) \
		-break_symmetry 3 \

John:
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-prefix semi_$(ORDER) \
		-John \

John_Sheekey:
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-prefix semi_$(ORDER) \
		-John_Sheekey \




#		-orbits_light
#		-compute $(DEPTH) \

deep:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-prefix semi_$(ORDER) \
		-deep_search 3 0 1 

aut:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-W \
		-compute_automorphism_group \
			3 34630287489 17315143801 1108650321 3074286151 5317831282 9571344270 -1

reps3:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-reps3

# level 3 candidates:
#up_orbit : Nb_candidates : go : nb_orbits
#0 : 115749888 :      63 : 1837828
#1 : 115749888 :     126 :  919211
#2 : 115752960 :      90 : 1287464
#3 : 115776512 :     168 :  690190
#4 : 115915776 :   10584 :   11233
#5 : 115786752 :     294 :  394274
#6 : 115748864 :     288 :  402617
#7 : 115728384 :    3456 :   33917
#8 : 115384320 : 1088640 :     139


#orbit 0, go=63
#schreier::compute_all_point_orbits found 1837828 orbits
#The distribution of orbit lengths is: ( 1^15, 9^60, 21^693, 63^1837060 )
#strong_generators::orbits_on_points_schreier done, we found 1837828 orbits
#Writing schreier data structure to file Level_2_Orbit_0_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_0_schreier.bin of size 3733401732


#orbit 1, go=126
#schreier::compute_all_point_orbits found 919211 orbits
#The distribution of orbit lengths is: ( 1^3, 2^6, 9^18, 18^21, 21^3, 42^345, 63^570, 126^918245 )
#strong_generators::orbits_on_points_schreier done, we found 919211 orbits
#Writing schreier data structure to file Level_2_Orbit_1_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_1_schreier.bin of size 3718703896


#orbit 2, go=90
#schreier::compute_all_point_orbits found 1287464 orbits
#The distribution of orbit lengths is: ( 30^972, 45^1344, 90^1285148 )
#strong_generators::orbits_on_points_schreier done, we found 1287464 orbits
#Writing schreier data structure to file Level_2_Orbit_2_schreier.bin
#schreier::write_file_binary 
#schreier::write_file_binary Written file Level_2_Orbit_2_schreier.bin of size 3724694284


# orbit 3, go=168
#schreier::compute_all_point_orbits found 690190 orbits 
#The distribution of orbit lengths is: ( 1^2, 2, 3^2, 6^2, 7^6, 8, 12^18, 14^2, 21^22, 24^13, 42^7, 56^152, 84^1750, 168^688212 )
#strong_generators::orbits_on_points_schreier done, we found 690190 orbits
#Writing schreier data structure to file Level_2_Orbit_3_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_3_schreier.bin of size 3715891636


#orbit 4, go=10584
#schreier::compute_all_point_orbits found 11233 orbits
#The distribution of orbit lengths is: ( 1, 56, 63^3, 84^2, 108, 168, 441^4, 504^2, 1176^15, 1323^2, 1512^25, 1764^11, 3528^151, 5292^240, 10584^10774 )
#strong_generators::orbits_on_points_schreier done, we found 11233 orbits
#Writing schreier data structure to file Level_2_Orbit_4_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_4_schreier.bin of size 3709484736

#orbit5, go=294
#schreier::compute_all_point_orbits found 394274 orbits
#The distribution of orbit lengths is: ( 1, 3, 21^19, 42^30, 49^3, 98^163, 147^570, 294^393487 )
#strong_generators::orbits_on_points_schreier done, we found 394274 orbits
#Writing schreier data structure to file Level_2_Orbit_5_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_5_schreier.bin of size 3711484588


#orbit6, go=288
#schreier::compute_all_point_orbits found 402617 orbits
#The distribution of orbit lengths is: ( 32^10, 48^17, 96^289, 144^991, 288^401310 )
#strong_generators::orbits_on_points_schreier done, we found 402617 orbits
#Writing schreier data structure to file Level_2_Orbit_6_schreier.bin
#schreier::write_file_binary 
#schreier::write_file_binary Written file Level_2_Orbit_6_schreier.bin of size 3710405804

#orbit7, go=3456
#schreier::compute_all_point_orbits found 33917 orbits
#The distribution of orbit lengths is: ( 192, 384^3, 576^19, 1152^254, 1728^484, 3456^33156 )
#strong_generators::orbits_on_points_schreier done, we found 33917 orbits
#Writing schreier data structure to file Level_2_Orbit_7_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_7_schreier.bin of size 3703851208

#orbit8, go=1088640
#schreier::compute_all_point_orbits found 139 orbits
#The distribution of orbit lengths is: ( 5760, 8640, 25920^2, 77760^4, 155520, 181440^7, 362880^16, 544320^16, 1088640^91 )
#strong_generators::orbits_on_points_schreier done, we found 139 orbits
#Writing schreier data structure to file Level_2_Orbit_8_schreier.bin
#schreier::write_file_binary
#schreier::write_file_binary Written file Level_2_Orbit_8_schreier.bin of size 3692300748


#semifield_starter::general_upstep newly computed level 3 distribution of stabilizer orders: ( 74088, 1176^4, 294, 189^2, 168^6, 126^2, 84, 63^3, 42^2, 28^2, 24^5, 21^3, 18, 14^16, 12^2, 9^27, 8^2, 7^17, 6^38, 4^7, 3^897, 2^1962, 1^794636 )
#Level 3, done with upstep, we found 797637 orbits
#Level 3, done with upstep, we found 797637 orbits, saving information
#INT_vec_array_write_csv nb_vecs=5
#column labels:
#0 : Go
#1 : Po
#2 : So
#3 : Mo
#4 : Pt
#Written file Level_3_info.txt of size28741391

#Orbit 0 / 797637 done: nb_candidates = 303960 reduced from 115749888
#semifield_starter::find_candidates_at_level_four done
#write_set_to_file opening file Candidates_lvl_3_orbit_0 for writing
#Written file Candidates_lvl_3_orbit_0 of size 3474075
#Looking at orbit 1 / 797637:

#-rw-r----- 1 betten fac    3474075 Mar 27 02:48 Candidates_lvl_3_orbit_0
#-rw-r----- 1 betten fac    3465419 Mar 27 02:54 Candidates_lvl_3_orbit_1
#-rw-r----- 1 betten fac    3454363 Mar 27 03:00 Candidates_lvl_3_orbit_2
#-rw-r----- 1 betten fac    3459115 Mar 27 03:06 Candidates_lvl_3_orbit_3
#-rw-r----- 1 betten fac    3459283 Mar 27 03:12 Candidates_lvl_3_orbit_4

#Level 3, orbit 4, L4 case 35311 / , L5 case 0 / 1 starting
#SEMIFIELD 0 : 3074286151, 5317831282, 9571344270
#1021431:SEMIFIELD 0 : 3074286151, 5317831282, 9571344270

#Level 3, orbit 8, L4 case 41999 / , L5 case 0 / 1 starting
#SEMIFIELD 1 : 3206465314, 4940729012, 9274530845
#1899108:SEMIFIELD 1 : 3206465314, 4940729012, 9274530845


#Level 3, orbit 4, L4 case 35000 / 42696 done, yields nb_sol = 0 solutions, nb_sol = 0
#SEMIFIELD 0 : 34630287489 17315143801 1108650321 3074286151 5317831282 9571344270


#Level 3, orbit 8, L4 case 41000 / 42840 done, yields nb_sol = 0 solutions, nb_sol = 1
#SEMIFIELD 1 : 34630287489, 17315143801, 1108650386, 3206465314, 4940729012, 9274530845

#Level 3, orbit 15, L4 case 42000 / 43568 done, yields nb_sol = 0 solutions, nb_sol = 2
#SEMIFIELD 2 : 34630287489, 17315143801, 1108650459, 3208687902, 4890726165, 9440193518


#Level 3, orbit 17, L4 case 33000 / 43208 done, yields nb_sol = 0 solutions, nb_sol = 3
#SEMIFIELD 3 : 34630287489, 17315143801, 1108650588, 3032942842, 4520934766, 8939026848


#Level 3, orbit 19, L4 case 34000 / 43888 done, yields nb_sol = 0 solutions, nb_sol = 4
#SEMIFIELD 4 : 34630287489, 17315143801, 1108650622, 3048217660, 5339042591, 9276154346

#Level 3, orbit 24, L4 case 7000 / 43364 done, yields nb_sol = 0 solutions, nb_sol = 5
#SEMIFIELD 5 : 34630287489, 17315143801, 1108650708, 2372916382, 4756430659, 9622725392



#Level 3, orbit 524292, L4 case 25000 / 42632 done, yields nb_sol = 0 solutions, nb_sol = 0
#SEMIFIELD 0 : 34630287489, 17315143801, 1251978591, 2818008463, 4758994608, 9166721740


read_gens2:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-W \
		-read_stabilizers 2 
		


o0:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_0.txt OrbitLength \
		-output_fname o0 \
		-label_x x \
		-out_of 1000


o1:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_1.txt OrbitLength \
		-output_fname o1 \
		-label_x x \
		-out_of 1000

# 919211 orbits

o2:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_2.txt OrbitLength \
		-output_fname o2 \
		-label_x x \
		-out_of 1000

# 1287464 orbits



o3:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_3.txt OrbitLength \
		-output_fname o3 \
		-label_x x \
		-out_of 1000

o4:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_4.txt OrbitLength \
		-output_fname o4 \
		-label_x x \
		-out_of 1000

o5:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_5.txt OrbitLength \
		-output_fname o5 \
		-label_x x \
		-out_of 1000

o6:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_6.txt OrbitLength \
		-output_fname o6 \
		-label_x x \
		-out_of 1000

o7:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_7.txt OrbitLength \
		-output_fname o7 \
		-label_x x \
		-out_of 1000

o8:
	$(MATH161_PATH)/plot_distribution.out -column Orbits_lvl2_8.txt OrbitLength \
		-output_fname o8 \
		-label_x x \
		-out_of 1000







print:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 -order $(ORDER) \
		-print_representatives 1 \
		-recoordinatize \
		-prefix semi_$(ORDER) 


draw2:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semifield_q$(ORDER)_lvl2.layered_graph \
		-draw semifield_q$(ORDER)_lvl2
	mpost semifield_q$(ORDER)_lvl2.mp


normal:
	$(SEMIFIELD_PATH)/gl_classes.out -v 4 \
		-normal_form 6 2 0 1 1 0 1 0 0 1 0 1 1 1 1 1 0 0 0 1 1 1 1 0 0 0 0 1 1 1 0 0 1 1 0 1 0 0 -1


#gl_classes::identify2 transformation matrix = 
#1 0 0 1 0 1 
#0 0 1 1 0 0 
#0 1 0 1 1 0 
#0 1 0 1 0 1 
#0 0 0 1 0 1 
#0 1 0 1 0 0 

#gl_classes::identify2 k = 6 q = 2 done
#gl_classes::identify_matrix B^-1 * A * B = 
#0 1 0 0 0 0 
#1 1 0 0 0 0 
#0 0 0 1 0 0 
#0 0 1 1 0 0 
#0 0 0 0 0 1 
#0 0 0 0 1 1 




