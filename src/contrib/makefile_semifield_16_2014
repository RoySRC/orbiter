MY_PATH=../../../DEV.14
#MY_PATH=/scratch/betten/COMPILE/2013_01_23
SRC=$(MY_PATH)/ORBITER/SRC
SRC2=$(MY_PATH)/ORBITER2/SRC2

SEMIFIELD_PATH=$(SRC)/SEMIFIELD
GRASSMANN_PATH=$(SRC2)/GRASSMANN


ORDER=16
DEPTH=4
POLY=

starter:
	- rm Candidates*
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-compute 4 \
		-draw_poset 

# July 1, 2014 on MacBook: 1 min 36 sec group orders: 18, 108, 900


#		-W \
#		-break_symmetry 


#		-orbits_light


#		-compute $(DEPTH) \


classify:
	- rm Candi*
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-break_symmetry 4

po_select:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semifield_q16_lvl4.layered_graph \
		-draw semifield_q16_lvl4 \
		-rad 1500 \
		-xin 1000000 \
		-yin 1000000 \
		-xout 1000000 \
		-yout 1000000 \
		-embedded\
		-y_stretch 0.8 \
		-nodes_empty
	#mpost semifield_q16_lvl4.mp
	pdflatex semifield_q16_lvl4.tex
	open semifield_q16_lvl4.pdf


#		-select_layer 2 \
#		-select_layer 3 \

poset:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semi_16_poset_lvl_4.layered_graph \
		-draw semi_16_poset_lvl_4 \
		-rad 7000 \
		-xin 1000000 \
		-yin 1000000 \
		-xout 1000000 \
		-yout 1000000 \
		-embedded\
		-y_stretch 0.8 
	pdflatex semi_16_poset_lvl_4.tex
	open semi_16_poset_lvl_4.pdf

detailed:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semi_16_poset_detailed_lvl_4.layered_graph \
		-draw semi_16_poset_detailed_lvl_4 \
		-rad 7000 \
		-xin 1000000 \
		-yin 1000000 \
		-xout 1000000 \
		-yout 1000000 \
		-boxed 3 \
		-embedded\
		-y_stretch 1.0
	pdflatex semi_16_poset_detailed_lvl_4.tex
	open semi_16_poset_detailed_lvl_4.pdf



test_invariants:
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-test_invariants 3 semifield_list_order16.csv 0 100


test_canon:
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-test_canonical_form 3 semifield_list_order16.csv 0 10

canon:
	$(SEMIFIELD_PATH)/semifield_main.out -v 4 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-compute_canonical_form 3 1 semifield_list_order16.csv 0 

deep: 
	$(SEMIFIELD_PATH)/semifield_main.out -v 3 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-W \
		-deep_search 3 0 1 

read_gens2:
	$(SEMIFIELD_PATH)/semifield_main.out -v 2 \
		-order $(ORDER) \
		-recoordinatize \
		-prefix semi_$(ORDER) \
		-W \
		-read_stabilizers 2 
		

# orbit 0 / 9:
#schreier::compute_all_point_orbits found 1837828 orbits
#The distribution of orbit lengths is: ( 1^15, 9^60, 21^693, 63^1837060 )



print:
	$(SEMIFIELD_PATH)/semifield_main.out -v 24 -order $(ORDER) \
		-print_representatives $(DEPTH) \
		-recoordinatize \
		-prefix semi_$(ORDER) 

draw:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semifield_q$(ORDER)_lvl4.layered_graph \
		-draw semifield_q$(ORDER)_lvl4 \
		-xin 10000 -yin 10000 \
		-xout 1400000 -yout 900000 \
		-rad 80 
	#mpost semifield_q$(ORDER)_lvl4.mp

draw_aux:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semifield_q$(ORDER)_lvl4_aux.layered_graph \
		-draw semifield_q$(ORDER)_lvl4_aux \
		-xin 10000 -yin 10000 \
		-xout 1400000 -yout 900000 \
		-rad 40 \
		-embedded
	pdflatex semifield_q$(ORDER)_lvl4_aux.tex
	open semifield_q$(ORDER)_lvl4_aux.pdf



draw_selected:
	$(SEMIFIELD_PATH)/layered_graph_main.out -v 4 \
		-file semifield_q$(ORDER)_lvl4_aux.layered_graph \
		-draw semifield_q$(ORDER)_lvl2_aux \
		-xin 10000 -yin 10000 \
		-xout 800000 -yout 600000 \
		-rad 100 \
		-select_layer 0 \
		-select_layer 1 \
		-select_layer 2 
	cp semifield_q$(ORDER)_lvl2_aux.tex /Users/antonbetten/TEX.14/SEMI/TALK/DATA/16
	#mpost semifield_q$(ORDER)_lvl2.mp


	
