MY_PATH=~/DEV.18/GITHUB/orbiter
MY_PATH2=~/DEV.18
#MY_PATH=/scratch3/betten/COMPILE/2018_02_06
ORBITER=$(MY_PATH)/ORBITER
ORBITER2=$(MY_PATH2)/ORBITER2
SRC=$(ORBITER)/SRC
SRC2=$(ORBITER2)/SRC2


BLT_PATH=$(SRC)/APPS/BLT
TOOLS_PATH=$(SRC)/APPS/TOOLS
MATH161_PATH=$(SRC2)/MATH161
DRAW_PATH=$(SRC2)/DRAW
SAJEEB_PATH=../../../DEV.18/GITHUB/CliqueFinder
CLIQUER_PATH=$(SRC2)/CLIQUER/INTERFACE
OPTIMIZE_MM2_PATH=$(SRC2)/OPTIMIZE_MM2
LOCAL_TOOLS_PATH=$(SRC)/APPS/TOOLS




create_test_graph:
	$(TOOLS_PATH)/create_graph.out -v 2 -save test.bin



draw_test_graph:
	$(TOOLS_PATH)/draw_colored_graph.out -v 2 \
		-file test.bin \
		-out_file graph \
		-on_circle \
		-embedded \
		-radius 40000 \
		-partitioned \
		-scale .75 \
		-coordinates 1000000 1000000 500000 500000
	pdflatex test_on_circle.tex
	open test_on_circle.pdf



73s4:
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--parallel --n_threads 4 \
		--output_solutions_to_file 73_solutions \
		--cases "(Graphs/73/G/graph_BLT_73_5_0.bin)"


# 9/11/2018: 940 sec = 15 min 40 sec  on Mac with 4 threads



67n:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_67_5_0.bin \
		-nonrecursive \
		-output_solution_raw \
		-output_file graph_BLT_67_5_0_n.txt

# 7/21/2018: 19:16 on Mac, 
#nb_sol = 255
#nb_backtrack_nodes = 248799392


61a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file 61/G/graph_BLT_61_5_0.bin \
		-output_file graph_BLT_61_5_0.txt


#		-output_solution_raw \

# 8/22/2018 2:20 on Mac

61n:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file 61/G/graph_BLT_61_5_0.bin \
		-nonrecursive \
		-output_solution_raw \
		-output_file graph_BLT_61_5_0_n.txt

# 7/19/2018: 3:40 on Mac, nb_sol = 195
#nb_sol = 195
#nb_backtrack_nodes = 55871864




61s4:
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--parallel --n_threads 4 \
		--output_solutions_to_file 61_solutions \
		--cases "(Graphs/61/G/graph_BLT_61_5_0.bin)"


# 36 sec on Mac


61s1:
	-mkdir SOLUTIONS
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--graph_file 61/G/graph_BLT_61_5_0.bin \
		--parallel --n_threads 1

# 7/27/2018 (initial commit): 113 sec (speeup factor over 2017 version = 5.8)
# 8/22/2018: 94 sec on Mac (speeup factor over 2017 version = 7.1)

61s2:
	-mkdir SOLUTIONS
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--graph_file 61/G/graph_BLT_61_5_0.bin \
		--parallel --n_threads 2

# 8/22/2018: 51 sec on Mac (speeup factor over 2017 version = 13)



61s3:
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--graph_file 61/G/graph_BLT_61_5_0.bin \
		--parallel --n_threads 3

# 8/22/2018: 41 sec on Mac (speeup factor over 2017 version = 16)

#61s4:
#	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
#		--graph_file 61/G/graph_BLT_61_5_0.bin \
#		--parallel --n_threads 4

# 8/22/2018: 36 sec on Mac (speeup factor over 2017 version = 18)

61s8:
	valgrind --tool=memcheck \
		~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--graph_file 61/G/graph_BLT_61_5_0.bin \
		--parallel --n_threads 8

# 8/25/2018: 36 sec on Mac (speeup factor over 2017 version = 18)


61h:
	~/HISTORY/ORBITER/SRC/APPS/TOOLS/all_rainbow_cliques.out -v 2 \
		-file 61/G/graph_BLT_61_5_0.bin \
		-output_solution_raw \
		-output_file graph_BLT_61_5_0.txt

# 7/19/2018 (using 2017 version): 11:5 on Mac


53s:
	~/DEV.18/SAJEEB/07_16/main --q 53 --instance 8064 --cpu \
		--print_graph_info \
		--graph_file 53/graph_BLT_53_5_8064.bin

# 7/19/2018: 6.277 sec on MacBook, 1878155 nodes

53a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file 53/graph_BLT_53_5_8064.bin \
		-output_file 53/graph_BLT_53_5_8064s.txt

#nb_vertices=6486 nb_colors=49
# 7/19/2018: 7.13 sec on MacBook, nb_sol = 4, 3596211 nodes




49a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_49_5_0.bin


#nb_sol = 122
#0:3


47a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_47_5_0.bin

#nb_sol = 131
#0:2



43a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_43_5_0.bin

#nb_sol = 275
#0:00


43c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_43_5_0.bin 


#Number of cliques: 275
#***************** The End **********************
#15:36



41a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_41_5_0.bin \


#nb_sol = 77
#after colored_graph_all_cliques
#all_rainbow_cliques.out is done
#***************** The End **********************
#0:00


41c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_41_5_0.bin 

#Number of cliques: 77
#***************** The End **********************
#1:39


37a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_37_5_0.bin \


#nb_sol = 71
#0:00


37m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_37_5_0.bin \
		-export_magma



37c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_37_5_0.bin 

#Number of cliques: 71
#0:18


31a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_31_5_0.bin \


#nb_sol = 181
#0:00


31c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_31_5_0.bin 

#Number of cliques: 181
#0:00



31m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_31_5_0.bin \
		-export_magma

# magma commands used:
#/usr/local/magma/magma graph_BLT_31_5_0.magma
#C := AllCliques(G,27);
#Total time: 1443.500 seconds, Total memory usage: 190.84MB



29a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_29_5_0.bin \

#nb_sol = 29
#0:00



29c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_29_5_0.bin 

#Number of cliques: 29
#0:00



29m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_29_5_0.bin \
		-export_magma


# magma commands used:
#/usr/local/magma/magma graph_BLT_29_5_0.magma
#C := AllCliques(G,25);
# #C;

#Loading file "graph_BLT_29_5_0.magma"
#> C := AllCliques(G,25);
#> #C;
#29
#> quit;
#Total time: 197.500 seconds, Total memory usage: 98.50MB


27a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_27_5_0.bin \



#nb_sol = 31
#0:00


27c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_27_5_0.bin 

#Number of cliques: 31
#0:00




27m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_27_5_0.bin \
		-export_magma


# magma commands used:
#/usr/local/magma/magma graph_BLT_27_5_0.magma
#C := AllCliques(G,23);
#Total time: 48.109 seconds, Total memory usage: 77.84MB


27maple:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_27_5_0.bin \
		-export_maple


#Maple commands:
#G := ImportGraph("/Users/betten/DATA.18/BLT/TEST_CLIQUE/graph_BLT_27_5_0.maple", edges)
#MaximumClique(G)
# takes 240 seconds to find one clique. Does not find all cliques.


27print:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_27_5_0.bin \
		-print







25a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_25_5_0.bin 


#nb_sol = 34
#0:00


25c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_25_5_0.bin 

#Number of cliques: 34
#0:00



25m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_25_5_0.bin \
		-export_magma


# magma commands used:
#/usr/local/magma/magma graph_BLT_25_5_0.magma
#C := AllCliques(G,21);
# #C;
#Total time: 10.869 seconds, Total memory usage: 72.28MB


25maple:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_25_5_0.bin \
		-export_maple

#Maple commands:
#G := ImportGraph("/Users/betten/DATA.18/BLT/TEST_CLIQUE/graph_BLT_25_5_0.maple", edges)
#MaximumClique(G)
# takes 50 seconds to find one clique. Does not find all cliques.



23a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_23_5_0.bin 

#nb_sol = 31
#0:00


23a2:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-input_list_of_files \
			0 Graphs/23/G/graph_BLT_23_5_0.bin \
			4 Graphs/23/G/graph_BLT_23_5_4.bin \
			-1 \
		-output_file 23_sol.txt



23c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_23_5_0.bin 


#Number of cliques: 31
#0:00



23m:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_23_5_0.bin \
		-export_magma


# magma commands used:
#/usr/local/magma/magma graph_BLT_23_5_0.magma
#C := AllCliques(G,19);
# #C;
#Total time: 2.600 seconds, Total memory usage: 32.09MB


23s:
	~/DEV.18/SAJEEB/RainbowClique/main --cpu \
		--parallel --n_threads 2 \
		--output_solutions_to_file 23_solutions \
		--cases "(Graphs/23/G/graph_BLT_23_5_0.bin, Graphs/23/G/graph_BLT_23_5_4.bin)"

23maple:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_23_5_0.bin \
		-export_maple

#Maple commands:
#G := ImportGraph("/Users/betten/DATA.18/BLT/TEST_CLIQUE/graph_BLT_23_5_0.maple", edges)
#MaximumClique(G)
# takes 10 seconds to find one clique. Does not find all cliques.



19a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file graph_BLT_19_5_0.bin \


19c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_19_5_0.bin 


17a:
	-mkdir SOLUTIONS
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 2 \
		-file 17/graph_BLT_17_7_1485.bin \


#nb_sol = 1
#nb_backtrack_nodes = 22


17maple:
	$(TOOLS_PATH)/colored_graph.out -v 2 \
		-file graph_BLT_17_5_0.bin \
		-export_maple

#Maple commands:
#G := ImportGraph("/Users/betten/DATA.18/BLT/TEST_CLIQUE/graph_BLT_17_5_0.maple", edges)
#MaximumClique(G)
# 0 sec

11a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 3 \
		-file 11/graph_BLT_11_5_0.bin \

#nb_sol = 3
#nb_backtrack_nodes = 36


11c:
	$(CLIQUER_PATH)/cliquer.out -v 2 \
		-file graph_BLT_11_5_0.bin 



test_a:
	$(TOOLS_PATH)/all_rainbow_cliques.out -v 3 \
		-file test.bin \


old:
	~/DEV.18/SAJEEB/07_14/main --cpu \
		--graph_file graph_BLT_53_5_8064.bin --q 53 --instance 8064 \
		--print_graph_info


draw:
	$(TOOLS_PATH)/draw_colored_graph.out -v 2 \
		-file graph_BLT_17_7_1485.bin \
		-out_file graph \
		-on_circle \
		-embedded \
		-radius 40000 \
		-partitioned \
		-scale .75 \
		-coordinates 1000000 1000000 500000 500000


