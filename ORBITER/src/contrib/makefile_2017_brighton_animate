MY_PATH=../../DEV.16
#MY_PATH=/scratch2/betten/COMPILE/2016_08_02
SRC=$(MY_PATH)/ORBITER/SRC
SRC2=$(MY_PATH)/ORBITER2/SRC2


MATH360_PATH=$(SRC2)/MATH360
DRAW_PATH=$(SRC2)/DRAW
TOOLS_PATH=$(SRC)/APPS/TOOLS
SURFACE_PATH=$(SRC)/APPS/SURFACE
ALGEBRA_PATH=$(SRC2)/ALGEBRA
PROJECTIVE_SPACE_PATH=$(SRC)/APPS/PROJECTIVE_SPACE
ARCS_PATH=$(SRC)/APPS/ARCS


clean:
	- rm codes_*

H3_2:
	$(SURFACE_PATH)/polynomial_orbits.out -v 2 -degree 3 -linear -PGL 3 2 -end 

H3_3:
	$(SURFACE_PATH)/polynomial_orbits.out -v 2 -degree 3 -linear -PGL 3 3 -end 

H3_4:
	$(SURFACE_PATH)/polynomial_orbits.out -v 2 -degree 3 -linear -PGGL 3 4 -end \
		-identify "elliptic_curve" 1 0 1 7 1 8 1 9 -1 


draw_quadrangle_0:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 2 -draw_points_in_plane -set "Quadrangle_0" "0,1,2,3" 
	pdflatex Quadrangle_0.tex
	open Quadrangle_0.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_0_Incma_in.bin -Levi 8 8 -bitmatrix -labels -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_0_Incma_in_bitmatrix.tex
	open Quadrangle_0_Incma_in_bitmatrix.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_0_Incma_out.bin -Levi 8 8 -bitmatrix -labels  -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_0_Incma_out_bitmatrix.tex
	open Quadrangle_0_Incma_out_bitmatrix.pdf

draw_quadrangle_1:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 2 -draw_points_in_plane -set "Quadrangle_1" "3,4,5,6" 
	pdflatex Quadrangle_1.tex
	open Quadrangle_1.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_1_Incma_in.bin -Levi 8 8 -bitmatrix -labels -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_1_Incma_in_bitmatrix.tex
	open Quadrangle_1_Incma_in_bitmatrix.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_1_Incma_out.bin -Levi 8 8 -bitmatrix -labels  -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_1_Incma_out_bitmatrix.tex
	open Quadrangle_1_Incma_out_bitmatrix.pdf

draw_quadrangle_2:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 2 -draw_points_in_plane -set "Quadrangle_2" "0,2,4,6" 
	pdflatex Quadrangle_2.tex
	open Quadrangle_2.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_2_Incma_in.bin -Levi 8 8 -bitmatrix -labels -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_2_Incma_in_bitmatrix.tex
	open Quadrangle_2_Incma_in_bitmatrix.pdf
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Quadrangle_2_Incma_out.bin -Levi 8 8 -bitmatrix -labels  -coordinates 1000000 1000000 500000 500000
	pdflatex Quadrangle_2_Incma_out_bitmatrix.tex
	open Quadrangle_2_Incma_out_bitmatrix.pdf


stab_quadrangle_0:
	$(PROJECTIVE_SPACE_PATH)/process.out -v 3 -n 2 -q 2 -canonical_form -set "quadrangle_0" "0,1,2,3" 
	cp Incma_in_8_8.bin Quadrangle_0_Incma_in.bin
	cp Incma_out_8_8.bin Quadrangle_0_Incma_out.bin

stab_quadrangle_1:
	$(PROJECTIVE_SPACE_PATH)/process.out -v 3 -n 2 -q 2 -canonical_form -set "quadrangle_1" "3,4,5,6" 
	cp Incma_in_8_8.bin Quadrangle_1_Incma_in.bin
	cp Incma_out_8_8.bin Quadrangle_1_Incma_out.bin

stab_quadrangle_2:
	$(PROJECTIVE_SPACE_PATH)/process.out -v 3 -n 2 -q 2 -canonical_form -set "quadrangle_2" "0,2,4,6" 
	cp Incma_in_8_8.bin Quadrangle_2_Incma_in.bin
	cp Incma_out_8_8.bin Quadrangle_2_Incma_out.bin


draw_incma_in:
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Incma_in_22_22.bin -Levi 22 22 -bitmatrix -coordinates 1000000 1000000 500000 500000
	pdflatex Incma_in_22_22_bitmatrix.tex
	open Incma_in_22_22_bitmatrix.pdf

draw_incma_out:
	$(TOOLS_PATH)/draw_colored_graph.out -v 2  -file Incma_out_22_22.bin -Levi 22 22 -bitmatrix -coordinates 1000000 1000000 500000 500000
	pdflatex Incma_out_22_22_bitmatrix.tex
	open Incma_out_22_22_bitmatrix.pdf

#\
#		-identify "hermitian_curve" 1 0 1 6 1 9 -1

draw_Quadrangle_graph:
	$(TOOLS_PATH)/draw_graph.out -nb_V 16 -colored_graph Quadrangle_0_Incma_in.bin \
		-fname Quadrangle_0_graph \
		-embedded -line_width 1 -scale 0.25 \
		-bipartite 8 \
		-point_labels



ORDER=4
DEPTH=9
D=3


ARGUMENTS= -q $(ORDER) -d $(D) \
		-base_fname arcs_$(ORDER)_ \
		-input_prefix ./ARCS/ \
		-output_prefix ./SYSTEMS/ \
		-solution_prefix ./SOLUTIONS/ \
		-starter_size $(DEPTH) 


arc:
	- mkdir ARCS
	$(ARCS_PATH)/arcs_main.out -v 4 $(ARGUMENTS) \
		-starter \
		-list $(DEPTH) \
		-draw_poset \
		-W -T 

draw3:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -draw_points_in_plane -set "Set_S0" "0,1,2,3,4,7,11,13,16" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -draw_points_in_plane -set "Set_S1" "0,1,2,3,4,8,11,17,18" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -draw_points_in_plane -set "Set_S2" "0,1,2,3,4,8,14,16,19" 
	pdflatex Set_S0.tex
	pdflatex Set_S1.tex
	pdflatex Set_S2.tex
	open Set_S0.pdf Set_S1.pdf Set_S2.pdf 


ideal0:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -ideal 3  -set "Set_S0" "0,1,2,3,4,7,11,13,16" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -line_type  -set "Set_S0" "0,1,2,3,4,7,11,13,16" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -line_type  -set "Set_S0_closure" "0,1,2,3,4,7,10,11,12,13,16,17,19" 
	$(PROJECTIVE_SPACE_PATH)/process.out -v 3 -n 2 -q 4 -canonical_form -set "Set_S0_closure" "0,1,2,3,4,7,10,11,12,13,16,17,19" 

ideal1:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -ideal 3  -set "Set_S1" "0,1,2,3,4,8,11,17,18" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -line_type  -set "Set_S1_closure" "0,1,2,3,4,8,10,11,12,13,17,18" 
	$(PROJECTIVE_SPACE_PATH)/process.out -v 3 -n 2 -q 4 -canonical_form -set "Set_S1_closure" "0,1,2,3,4,8,10,11,12,13,17,18" 

ideal2:
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -ideal 3  -set "Set_S2" "0,1,2,3,4,8,14,16,19" 
	$(PROJECTIVE_SPACE_PATH)/process.out -n 2 -q 4 -line_type  -set "Set_S2" "0,1,2,3,4,8,14,16,19" 

animate:
	$(DRAW_PATH)/animate.out -v 2 -animate 10 -n 5 -fname animate -projective 
	pdflatex animate_5_0.tex
	pdflatex animate_5_1.tex
	pdflatex animate_5_2.tex
	pdflatex animate_5_3.tex
	pdflatex animate_5_4.tex
	pdflatex animate_5_5.tex
	pdflatex animate_5_6.tex
	pdflatex animate_5_7.tex
	pdflatex animate_5_8.tex
	pdflatex animate_5_9.tex
	pdflatex animate_5_10.tex

conv1:
	convert -density 500 animate_5_0.pdf a_0.jpg
	convert -density 500 animate_5_1.pdf a_1.jpg
	convert -density 500 animate_5_2.pdf a_2.jpg
	convert -density 500 animate_5_3.pdf a_3.jpg
	convert -density 500 animate_5_4.pdf a_4.jpg
	convert -density 500 animate_5_5.pdf a_5.jpg
	convert -density 500 animate_5_6.pdf a_6.jpg
	convert -density 500 animate_5_7.pdf a_7.jpg
	convert -density 500 animate_5_8.pdf a_8.jpg
	convert -density 500 animate_5_9.pdf a_9.jpg
	convert -density 500 animate_5_10.pdf a_10.jpg

conv2:
	convert -extract 1600x1600+800+800 a_0.jpg b_0.jpg
	convert -extract 1600x1600+800+800 a_1.jpg b_1.jpg
	convert -extract 1600x1600+800+800 a_2.jpg b_2.jpg
	convert -extract 1600x1600+800+800 a_3.jpg b_3.jpg
	convert -extract 1600x1600+800+800 a_4.jpg b_4.jpg
	convert -extract 1600x1600+800+800 a_5.jpg b_5.jpg
	convert -extract 1600x1600+800+800 a_6.jpg b_6.jpg
	convert -extract 1600x1600+800+800 a_7.jpg b_7.jpg
	convert -extract 1600x1600+800+800 a_8.jpg b_8.jpg
	convert -extract 1600x1600+800+800 a_9.jpg b_9.jpg
	convert -extract 1600x1600+800+800 a_10.jpg b_10.jpg

conv3:
	convert b_0.jpg c_0.gif
	convert b_1.jpg c_1.gif
	convert b_2.jpg c_2.gif
	convert b_3.jpg c_3.gif
	convert b_4.jpg c_4.gif
	convert b_5.jpg c_5.gif
	convert b_6.jpg c_6.gif
	convert b_7.jpg c_7.gif
	convert b_8.jpg c_8.gif
	convert b_9.jpg c_9.gif
	convert b_10.jpg c_10.gif


animate:
	convert -delay 50   -loop 50 c_0.gif \
		c_1.gif \
		c_2.gif \
		c_3.gif \
		c_4.gif \
		c_5.gif \
		c_6.gif \
		c_7.gif \
		c_8.gif \
		c_9.gif \
		c_10.gif \
		animate.gif
		
conv:
	convert animate_5_0.pdf animate_5_0.gif -density 200x200 -crop 
	convert animate_5_1.pdf animate_5_1.gif -crop
	convert animate_5_2.pdf animate_5_2.gif -crop
	convert animate_5_3.pdf animate_5_3.gif -crop
	convert animate_5_4.pdf animate_5_4.gif -crop
	convert animate_5_5.pdf animate_5_5.gif -crop
	convert animate_5_6.pdf animate_5_6.gif -crop
	convert animate_5_7.pdf animate_5_7.gif -crop
	convert animate_5_8.pdf animate_5_8.gif -crop
	convert animate_5_9.pdf animate_5_9.gif -crop
	convert animate_5_10.pdf animate_5_10.gif -crop




